{{!-- {{#if user.isLoggedIn}} --}}
  <div class="dropdown-center dropstart">
    <span
      data-bs-toggle="dropdown"
      class="btn btn-secondary rounded-circle bg-secondary object-fit-cover ms-2 w-fit h-fit overflow-hidden p-0 border-4 border-dark"
    >
    {{#if user.picture}}
  <img
    src="{{user.picture}}"
    width="35px"
    height="35px"
    class="rounded-circle bg-secondary position-relative d-flex justify-content-center align-items-center object-fit-cover"
    style="object-position: center;"
  />
{{else}}
  <span
    class="rounded-circle bg-secondary position-relative d-flex justify-content-center align-items-center"
    style="width: 40px; height: 40px;"
  >
    <i
      class="fa-solid fa-user"
      style="color: #ffffff; inset: 0; font-size: 20px;"
      class="position-absolute"
    ></i>
  </span>
{{/if}}
    </span>
    <ul class="dropdown-menu">
      {{#if user.isLoggedIn}}
<li>{{>user}}</li>
      <li><hr class="dropdown-divider" /></li>
      <li>
        <form
          action="/auth/logout?_method=DELETE"
          method="post"
          class="dropdown-item position-relative"
          id="logoutForm"
        >
          Logout
          <button
            type="submit"
            style="opacity: 0; position: absolute; inset: 0;"
          >
          </button>
        </form>
        <script>
          const logoutForm = document.getElementById("logoutForm")
          logoutForm.addEventListener("submit", async(e) => { e.preventDefault()
          const isConfirmed = await bsConfirm({title:"Logout", body:"Logout fromthis account?", confirmLabel:"Logout", confirmColor:"btn-danger"})
          if(isConfirmed) e.target.submit() })
        </script>
      </li>
      {{else}}
      <li><a class="dropdown-item" href="/auth/login">Login</a></li>
      <li><a class="dropdown-item" href="/auth/register">Register</a></li>
      {{/if}}
      
    </ul>
  </div>
{{!-- {{/if}} --}}